!function(I){function n(i,t){this.options=t,this.$el=I(i),this.timer=null,this.init()}n.DEFAULTS={autoplay:!1,speed:3e3,initialIndex:0,clickable:!0,slides:".slide-item",slidesLen:5,slidesProps:{width:0,height:0},navigation:{prev:".slide-prev",next:".slide-next"},pagination:{el:".slide-pagination-item",activeClass:"active"},slideStart:function(){},slideEnd:function(){},click:function(i,t){}},n.prototype.init=function(){this.initSlides(),this.initAutoPlay(),this.initClickable(),this.initNavigation(),this.initPagination()},n.prototype.initSlides=function(){var s=this,i=this.options;"static"===this.$el.css("position")&&this.$el.css("position","relative"),this.$slides=[],I(i.slides).each(function(i){var t=I(this);"static"===t.css("position")&&I(this).css("position","absolute"),t.data("order",i),s.$slides.push(t)}),this.$pages=i.pagination.el?I(i.pagination.el):void 0,this.visualLen=Math.min(i.slidesLen,this.$slides.length),this.firstVisit=!0,this.animationFinishNum=0;var t=2*parseInt(this.visualLen);this.slidesOptions=[],this.centerIndex=Math.floor(this.visualLen/2);for(var e=this.$el.width(),n=this.$el.height(),o=i.slidesProps.width,h=i.slidesProps.height,a=o/(1*t),l=h/(1*t),r=Math.floor((e-o)/(2*this.centerIndex)),d=Math.floor((n-h)/(2*this.centerIndex)),c=0;c<this.visualLen;c++){var p=Math.abs(this.centerIndex-c),f=Math.floor(a*(t-p)),u=Math.floor(l*(t-p)),v=Math.floor(p*l/2+2*d),$=c<=this.centerIndex?Math.floor(c*r):Math.floor(e-(this.centerIndex-p)*r-f),g=this.centerIndex-p+1;this.slidesOptions.push({width:f,height:u,top:v,left:$,zIndex:g})}this.resetPostion(),this.setUp()},n.prototype.initAutoPlay=function(){var i=this,t=this.options;t.autoplay&&(clearInterval(this.timer),this.timer=setInterval(function(){i.doNext()},t.speed),this.$el.on("mouseover",function(){clearInterval(i.timer)}).on("mouseout",function(){i.timer=setInterval(function(){i.doNext()},t.speed)}))},n.prototype.initClickable=function(){var t=this,s=this.options;if(s.clickable)for(var i=0,e=this.$slides.length;i<e;i++)this.$slides[i].on("click",function(){var i=I(this).index();t.doChange(i),s.click.call(this,parseInt(I(this).data("order")),i)})},n.prototype.initNavigation=function(){var i=this,t=this.options,s=t.navigation.prev,e=t.navigation.next;s&&I(s).on("click",function(){i.doPrev()}),e&&I(e).on("click",function(){i.doNext()})},n.prototype.initPagination=function(){var n=this;this.options;this.$pages&&this.$pages.each(function(e){I(this).on("click",function(){for(var i=-1,t=0,s=n.$slides.length;t<s;t++)if(e===parseInt(n.$slides[t].data("order"))){i=t;break}n.doChange(i)})})},n.prototype.resetPostion=function(){var i=this.options,t=this.$slides.length,s=(parseInt(i.initialIndex)||0)%t;s<0&&(s+=t);for(var e=Math.abs(s-this.centerIndex),n=s>this.centerIndex,o=0;o<e;o++)n?this.$slides.push(this.$slides.shift()):this.$slides.unshift(this.$slides.pop())},n.prototype.doPrev=function(){this.doChange(this.centerIndex-1)},n.prototype.doNext=function(){this.doChange(this.centerIndex+1)},n.prototype.doChange=function(i){if(i>this.centerIndex){for(var t=0;t<i-this.centerIndex;t++)this.$slides.push(this.$slides.shift());this.setUp()}else if(0<=i&&i<this.centerIndex){for(t=0;t<this.centerIndex-i;t++)this.$slides.unshift(this.$slides.pop());this.setUp()}},n.prototype.setUp=function(){for(var s=this,e=this.options,i=0,t=this.$slides.length;i<t;i++)this.$el.append(this.$slides[i]);this.firstVisit||e.slideStart.call(null);var n=this.animationFinishNum=0;for(t=this.$slides.length;n<t;n++)n<this.visualLen?(this.$slides[n].css("display","block"),this.doMove(this.$slides[n],this.slidesOptions[n],function(){if(this.animationFinishNum++,this.animationFinishNum===this.visualLen){var i=e.pagination.activeClass;if(i){var t=parseInt(s.$slides[s.centerIndex].data("order"));s.$pages.eq(t).addClass(i).siblings().removeClass(i)}this.firstVisit?this.firstVisit=!1:e.slideEnd.call(null)}})):this.$slides[n].css("display","none").css("width",0).css("height",0).css("top",this.slidesOptions[this.centerIndex].top).css("left",this.slidesOptions[this.centerIndex].left)},n.prototype.doMove=function(n,o,h){var a=this;this.options;clearInterval(n.timer),n.timer=setInterval(function(){var i=!0;for(var t in o){var s=parseFloat(n.css(t))||0,e=(o[t]-s)/5;e=0<e?Math.ceil(e):Math.floor(e),s!==o[t]&&(i=!1,n.css(t,s+e))}i&&(clearInterval(n.timer),h&&h.apply(a,arguments))},30)},I.fn.tinySwiper=function(e){return this.each(function(){var i=I(this),t=i.data("tiny.swiper"),s=I.extend({},n.DEFAULTS,"object"==typeof e&&e);t||i.data("tiny.swiper",t=new n(this,s))}),this},I.fn.tinySwiper.Construtor=n,I.fn.tinySwiper.defaults=n.DEFAULTS}(jQuery);