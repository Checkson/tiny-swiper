!function(o){function n(t,i){this.options=i,this.$el=o(t),this.timer=null,this.init()}n.DEFAULTS={autoplay:!1,speed:3e3,initialIndex:0,clickable:!0,touchable:!0,slides:".slide-item",slidesLen:5,slidesProps:{width:0,height:0},navigation:{prev:"",next:""},pagination:{el:"",activeClass:""},slideStart:function(){},slideEnd:function(){},click:function(t,i){}},n.prototype.init=function(){this.initSlides(),this.initAutoPlay(),this.initClickable(),this.touchable(),this.initNavigation(),this.initPagination()},n.prototype.initSlides=function(){var s=this,t=this.options;"static"===this.$el.css("position")&&this.$el.css("position","relative"),this.$slides=[],this.$el.find(t.slides).each(function(t){var i=o(this);"static"===i.css("position")&&o(this).css("position","absolute"),i.data("order",t),s.$slides.push(i)}),this.$pages=t.pagination.el?o(t.pagination.el):void 0,this.visualLen=Math.abs(Math.min(t.slidesLen,this.$slides.length)),this.firstVisit=!0,this.animationFinishNum=0,this.slidesOptions=[],this.product3DSlidesProps(),this.resetPosition(),this.setUp()},n.prototype.initAutoPlay=function(){var t=this,i=this.options;i.autoplay&&(clearInterval(this.timer),this.timer=setInterval(function(){t.doNext()},i.speed),this.$el.on("mouseover",function(){clearInterval(t.timer)}).on("mouseout",function(){t.timer=setInterval(function(){t.doNext()},i.speed)}))},n.prototype.initClickable=function(){var i=this;if(this.options.clickable)for(var t=0,s=this.$slides.length;t<s;t++)this.$slides[t].on("click",function(){var t=o(this).index();i.doChange(t),i.options.click.call(this,parseInt(o(this).data("order")),t)})},n.prototype.touchable=function(){var e,n=this,t=this.options,o=!1;t.touchable&&this.$el.on("touchstart mousedown",function(t){t.preventDefault(),e=t.clientX||t.originalEvent.changedTouches[0].clientX,o=!0}).on("touchmove mousemove",function(t){if(t.preventDefault(),!o)return!1}).on("touchend mouseup",function(t){if(t.preventDefault(),!o)return!1;var i=t.clientX||t.originalEvent.changedTouches[0].clientX,s=parseInt(i-e);0<s?n.doPrev():s<0&&n.doNext(),o=!1})},n.prototype.initNavigation=function(){var t=this,i=this.options,s=i.navigation.prev,e=i.navigation.next;s&&o(s).on("click",function(){t.doPrev()}),e&&o(e).on("click",function(){t.doNext()})},n.prototype.initPagination=function(){var n=this;this.$pages&&this.$pages.each(function(e){o(this).on("click",function(){for(var t=-1,i=0,s=n.$slides.length;i<s;i++)if(e===parseInt(n.$slides[i].data("order"))){t=i;break}n.doChange(t)})})},n.prototype.product3DSlidesProps=function(){var t=this.options,i=2*parseInt(this.visualLen);this.centerIndex=Math.floor(this.visualLen/2);for(var s=this.$el.width(),e=this.$el.height(),n=t.slidesProps.width,o=t.slidesProps.height,h=n/(1*i),a=o/(1*i),r=Math.floor((s-n)/(2*this.centerIndex)),l=Math.floor((e-o)/(2*this.centerIndex)),c=0;c<this.visualLen;c++){var d=Math.abs(this.centerIndex-c),p=Math.floor(h*(i-d)),u=Math.floor(a*(i-d)),f=Math.floor(d*a/2+2*l),v=c<=this.centerIndex?Math.floor(c*r):Math.floor(s-(this.centerIndex-d)*r-p),g=this.centerIndex-d+1;this.slidesOptions.push({width:p,height:u,top:f,left:v,zIndex:g})}},n.prototype.resetPosition=function(){var t=this.options,i=this.$slides.length,s=(parseInt(t.initialIndex)||0)%i;s<0&&(s+=i);for(var e=Math.abs(s-this.centerIndex),n=s>this.centerIndex,o=0;o<e;o++)n?this.$slides.push(this.$slides.shift()):this.$slides.unshift(this.$slides.pop())},n.prototype.doPrev=function(){this.doChange(this.centerIndex-1)},n.prototype.doNext=function(){this.doChange(this.centerIndex+1)},n.prototype.doChange=function(t){if(t>this.centerIndex){for(var i=0;i<t-this.centerIndex;i++)this.$slides.push(this.$slides.shift());this.setUp()}else if(0<=t&&t<this.centerIndex){for(i=0;i<this.centerIndex-t;i++)this.$slides.unshift(this.$slides.pop());this.setUp()}},n.prototype.setUp=function(){for(var s=this,e=this.options,t=0,i=this.$slides.length;t<i;t++)this.$el.append(this.$slides[t]);this.firstVisit||s.options.slideStart.call(s.$el.get(0),s.$slides[s.centerIndex].get(0));var n=this.animationFinishNum=0;for(i=this.$slides.length;n<i;n++)n<this.visualLen?(this.$slides[n].css("display","block"),this.doMove(this.$slides[n],this.slidesOptions[n],function(){if(this.animationFinishNum++,this.animationFinishNum===this.visualLen){var t=e.pagination.activeClass;if(t){var i=parseInt(s.$slides[s.centerIndex].data("order"));s.$pages.eq(i).addClass(t).siblings().removeClass(t)}this.firstVisit?this.firstVisit=!1:s.options.slideEnd.call(s.$el.get(0),s.$slides[s.centerIndex].get(0))}})):this.$slides[n].css("display","none").css("width",0).css("height",0).css("top",this.slidesOptions[this.centerIndex].top).css("left",this.slidesOptions[this.centerIndex].left)},n.prototype.doMove=function(n,o,h){var a=this;clearInterval(n.timer),n.timer=setInterval(function(){var t=!0;for(var i in o){var s=parseFloat(n.css(i))||0,e=(o[i]-s)/5;e=0<e?Math.ceil(e):Math.floor(e),s!==o[i]&&(t=!1,n.css(i,s+e))}t&&(clearInterval(n.timer),h&&h.apply(a,arguments))},30)},o.fn.tinySwiper=function(e){return this.each(function(){var t=o(this),i=t.data("tiny.swiper"),s=o.extend({},n.DEFAULTS,"object"==typeof e&&e);i||t.data("tiny.swiper",i=new n(this,s))}),this},o.fn.tinySwiper.Construtor=n,o.fn.tinySwiper.defaults=n.DEFAULTS}(jQuery);