!function(o){function n(t,i){this.options=i,this.$el=o(t),this.timer=null,this.init()}n.DEFAULTS={autoplay:!1,speed:3e3,initialIndex:0,clickable:!0,touchable:!0,slides:".slide-item",slidesLen:5,slidesSpace:"",slidesProps:{width:0,height:0},navigation:{prev:"",next:""},pagination:{el:"",activeClass:""},onSlideStart:function(){},onSlideEnd:function(){},onClick:function(t,i){}},n.prototype.init=function(){this.initSlides(),this.initAutoPlay(),this.initClickable(),this.initTouchable(),this.initNavigation(),this.initPagination()},n.prototype.initSlides=function(){var s=this,t=this.options;"static"===this.$el.css("position")&&this.$el.css("position","relative"),this.$slides=[],this.$el.find(t.slides).each(function(t){var i=o(this);"static"===i.css("position")&&o(this).css("position","absolute"),i.data("order",t),s.$slides.push(i)}),this.$pages=t.pagination.el?o(t.pagination.el):void 0,this.firstVisit=!0,this.animationFinishNum=0,this.slidesOptions=[],this.product3DSlidesProps(),this.resetPosition(),this.setUp()},n.prototype.initAutoPlay=function(){var t=this,i=this.options;i.autoplay&&(clearInterval(this.timer),this.timer=setInterval(function(){t.doNext()},i.speed),this.$el.on("mouseover",function(){clearInterval(t.timer)}).on("mouseout",function(){t.timer=setInterval(function(){t.doNext()},i.speed)}))},n.prototype.initClickable=function(){var i=this,t=this.options,s=o(document);t.clickable&&s.on("click",t.slides,function(){var t=o(this).index();i.doChange(t),i.options.onClick.call(this,parseInt(o(this).data("order")),t)})},n.prototype.initTouchable=function(){var e,n=this,t=this.options,o=!1;t.touchable&&this.$el.on("touchstart mousedown",function(t){t.preventDefault(),e=t.clientX||t.originalEvent.changedTouches[0].clientX,o=!0}).on("touchmove mousemove",function(t){if(t.preventDefault(),!o)return!1}).on("touchend mouseup",function(t){if(t.preventDefault(),!o)return!1;var i=t.clientX||t.originalEvent.changedTouches[0].clientX,s=parseInt(i-e);0<s?n.doPrev():s<0&&n.doNext(),o=!1})},n.prototype.initNavigation=function(){var t=this,i=this.options,s=i.navigation.prev,e=i.navigation.next;s&&o(s).on("click",function(){t.doPrev()}),e&&o(e).on("click",function(){t.doNext()})},n.prototype.initPagination=function(){var n=this;this.$pages&&this.$pages.each(function(e){o(this).on("click",function(){for(var t=-1,i=0,s=n.$slides.length;i<s;i++)if(e===parseInt(n.$slides[i].data("order"))){t=i;break}n.doChange(t)})})},n.prototype.product3DSlidesProps=function(){var t=this.options;this.visualLen=Math.abs(Math.min(t.slidesLen,this.$slides.length)),this.slideable=!0,this.normalStatus=!1,this.specialCase=!1,this.centerIndex=Math.floor(this.visualLen/2)||1,this.visualLen<=1&&(this.normalStatus=!0,this.$el.css("overflow","hidden"),1===this.$slides.length?(this.slideable=!1,this.centerIndex=0,this.visualLen=1):(2===this.$slides.length&&(this.specialCase=!0),this.visualLen=3));var i,s,e,n,o,h,a=2*parseInt(this.visualLen),l=t.slidesProps.width,r=t.slidesProps.height,d=this.$el.width(),c=this.$el.height(),p="number"==typeof l?l:d*parseInt(l)/100,f="number"==typeof r?r:c*parseInt(r)/100;if(this.normalStatus){var u=parseInt(t.slidesSpace);for(x=0;x<this.visualLen;x++)h=Math.abs(this.centerIndex-x),i=Math.floor(p),s=Math.floor(f),e=Math.floor((c-f)/2),n=isNaN(u)?(x-this.centerIndex)*d+Math.floor((d-p)/2):(x-this.centerIndex)*(p+u)+Math.floor((d-p)/2),o=this.centerIndex-h+1,this.slidesOptions.push({width:i,height:s,top:e,left:n,zIndex:o})}else for(var v=p/(1*a),$=f/(1*a),I=Math.floor((d-p)/(2*this.centerIndex)),g=Math.floor((c-f)/(2*this.centerIndex)),x=0;x<this.visualLen;x++)h=Math.abs(this.centerIndex-x),i=Math.floor(v*(a-h)),s=Math.floor($*(a-h)),e=Math.floor(h*$/2+2*g),n=x<=this.centerIndex?Math.floor(x*I):Math.floor(d-(this.centerIndex-h)*I-i),o=this.centerIndex-h+1,this.slidesOptions.push({width:i,height:s,top:e,left:n,zIndex:o})},n.prototype.resetPosition=function(){var t=this.options,i=this.$slides.length,s=(parseInt(t.initialIndex)||0)%i;s<0&&(s+=i);for(var e=Math.abs(s-this.centerIndex),n=s>this.centerIndex,o=0;o<e;o++)n?this.$slides.push(this.$slides.shift()):this.$slides.unshift(this.$slides.pop());if(this.specialCase){var h=this.$slides[0].clone();this.$slides.push(h)}},n.prototype.doPrev=function(){this.doChange(this.centerIndex-1)},n.prototype.doNext=function(){this.doChange(this.centerIndex+1)},n.prototype.doChange=function(t){if(!this.slideable||t===this.centerIndex&&-1<t)return!1;if(t>this.centerIndex){for(var i=0;i<t-this.centerIndex;i++)this.$slides.push(this.$slides.shift());if(this.specialCase){var s=this.$slides[0].clone();this.$slides.pop().remove(),this.$slides.push(s)}}else if(t<this.centerIndex){for(i=0;i<this.centerIndex-t;i++)this.$slides.unshift(this.$slides.pop());if(this.specialCase){s=this.$slides[2].clone();this.$slides.shift().remove(),this.$slides.unshift(s)}}this.setUp()},n.prototype.setUp=function(){for(var s=this,e=this.options,t=0,i=this.$slides.length;t<i;t++)this.$el.append(this.$slides[t]);this.firstVisit||s.options.onSlideStart.call(s.$el.get(0),s.$slides[s.centerIndex].get(0));var n=this.animationFinishNum=0;for(i=this.$slides.length;n<i;n++)if(n<this.visualLen)this.$slides[n].css("display","block"),this.doMove(this.$slides[n],this.slidesOptions[n],function(){if(this.animationFinishNum++,this.animationFinishNum===this.visualLen){var t=e.pagination.activeClass;if(t){var i=parseInt(s.$slides[s.centerIndex].data("order"));s.$pages.eq(i).addClass(t).siblings().removeClass(t)}this.firstVisit?this.firstVisit=!1:s.options.onSlideEnd.call(s.$el.get(0),s.$slides[s.centerIndex].get(0))}});else if(this.normalStatus){var o=this.slidesOptions.length;this.$slides[n].css("display","none").css("width",e.slidesProps.width).css("height",e.slidesProps.height).css("top",this.slidesOptions[o-1].top).css("left",this.slidesOptions[o-1].left)}else this.$slides[n].css("display","none").css("width",0).css("height",0).css("top",this.slidesOptions[this.centerIndex].top).css("left",this.slidesOptions[this.centerIndex].left)},n.prototype.doMove=function(n,o,h){var a=this;clearInterval(n.timer),n.timer=setInterval(function(){var t=!0;for(var i in o){var s=parseFloat(n.css(i))||0,e=(o[i]-s)/5;e=0<e?Math.ceil(e):Math.floor(e),s!==o[i]&&(t=!1,n.css(i,s+e))}t&&(clearInterval(n.timer),h&&h.apply(a,arguments))},30)},o.fn.tinySwiper=function(e){return this.each(function(){var t=o(this),i=t.data("tiny.swiper"),s=o.extend({},n.DEFAULTS,"object"==typeof e&&e);i||t.data("tiny.swiper",i=new n(this,s))}),this},o.fn.tinySwiper.Construtor=n,o.fn.tinySwiper.defaults=n.DEFAULTS}(jQuery);